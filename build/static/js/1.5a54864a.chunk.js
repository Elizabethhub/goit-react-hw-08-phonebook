(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[1],{116:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n(1),s=n(60),c=n(61),i=n(73),u=n(72),p=n(15),l=n(57),h=n.n(l),b=n(58),d=n(16),f=n(62),m=n.n(f),j="AIzaSyB_JpT834A0PunyVmEpcWWSkqqSL-_OpXM",g="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat(j),x="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat(j),O=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(g,Object(d.a)(Object(d.a)({},t),{},{returnSecureToken:!0}));case 3:return n=e.sent,e.abrupt("return",{registerData:n.data});case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(x,Object(d.a)(Object(d.a)({},t),{},{returnSecureToken:!0}));case 3:return n=e.sent,e.abrupt("return",{loginData:n.data});case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=n(4),y=n(22),k=n(23).a.div(r||(r=Object(y.a)(["\n  .user-form {\n    display: flex;\n    flex-direction: column;\n    width: 280px;\n    padding: 10px;\n    border: 1px solid lightgray;\n    border-radius: 16px;\n  }\n  .user-label {\n    position: relative;\n    margin-bottom: 8px;\n    padding-top: 6px;\n  }\n  .user-input {\n    height: 30px;\n    width: 100%;\n    outline: none;\n    padding-left: 8px;\n    height: 30px;\n    border: 1px solid cornflowerblue;\n    border-radius: 5px;\n  }\n  .user-input:focus + .icon-user,\n  .user-input:not(:placeholder-shown) + .icon-user {\n    opacity: 0;\n  }\n  .user-input:not(:placeholder-shown)::placeholder {\n    opacity: 0;\n  }\n  .user-input:focus::placeholder {\n    opacity: 0;\n  }\n  .user-input::placeholder {\n    color: cornflowerblue;\n    padding-left: 25px;\n    font-size: 14px;\n    transition: opacity 300ms linear;\n  }\n  .icon-user {\n    position: absolute;\n    bottom: 10px;\n    left: 14px;\n    width: 12px;\n    height: 12px;\n    fill: cornflowerblue;\n    transition: opacity 300ms linear;\n  }\n  .user-button {\n    align-self: center;\n    width: 120px;\n  }\n"]))),C=n.p+"static/media/sprite.5b013346.svg",S=n(7),N=n(3),D=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.onHandleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(o.a)({},r,a))},e.onHandleSubmit=function(t){t.preventDefault(),"/signup"===e.props.location.pathname?e.props.registerUserOperation(e.state):e.props.loginUserOperation(e.state)},e}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(e,t){if(this.props.error!==e.error&&"Request failed with status code 400"===this.props.error)return alert("".concat(this.state.email," is already exists in the Phonebook"))}},{key:"render",value:function(){var e=this.props.location.pathname,t=this.state,n=t.email,r=t.password;return Object(N.jsx)(k,{children:Object(N.jsxs)("form",{onSubmit:this.onHandleSubmit,className:"user-form",autoComplete:"off",name:"userForm",children:[Object(N.jsxs)("label",{className:"user-label",children:["Email",Object(N.jsx)("input",{type:"text",name:"email",onChange:this.onHandleChange,value:n,className:"user-input",placeholder:"max@gmail.com",minLength:"3",autoComplete:"on",required:!0}),Object(N.jsx)("svg",{className:"icon-user",children:Object(N.jsx)("use",{href:C+"#icon-envelop"})})]}),Object(N.jsxs)("label",{className:"user-label",children:["Password",Object(N.jsx)("input",{type:"text",name:"password",onChange:this.onHandleChange,value:r,className:"user-input",required:!0,placeholder:"AbraCadabra555",autoComplete:"on"}),Object(N.jsx)("svg",{className:"icon-user",children:Object(N.jsx)("use",{href:C+"#icon-lock"})})]}),Object(N.jsx)("button",{type:"submit",className:"user-button",children:"/signup"===e?"Register":"Login"})]})})}}]),n}(a.Component),U=Object(p.b)((function(e){return{error:e.auth.error}}),{registerUserOperation:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(w.e)()),t.prev=1,t.next=4,O(e);case 4:r=t.sent,n(Object(w.f)(r.registerData)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Object(w.d)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},loginUserOperation:function(e){return function(){var t=Object(b.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Object(w.b)()),t.prev=1,t.next=4,v(e);case 4:r=t.sent,n(Object(w.c)(r.loginData)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Object(w.a)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(S.g)(D));t.default=function(){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h2",{children:"AuthPage"}),Object(N.jsx)(U,{})]})}}}]);
//# sourceMappingURL=1.5a54864a.chunk.js.map